<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/default_layout}"
      layout:fragment="Content">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h3>도서등록</h3>
	<form th:action="@{/bookInsert}" method="post" name="insertForm">
		<div>
			<div>
				<label>도서번호</label>
				<input type="number" th:value=${lastNo} name="bookNo" readonly>
			</div>
			<div>
				<label>도서명</label>
				<input type="text" name="bookName">
			</div>
			<div>
				<label>도서표지</label>
				<input type="text"name="bookCoverimg">
			</div>
			<div>
				<label>출판일자</label>
				<input type="date" name="bookDate">
			</div>
			<div>
				<label>금액</label>
				<input type="number" name="bookPrice">
			</div>
			<div>
				<label>출판사</label>
				<input type="text" name="bookPublisher">
			</div>
			<div>
				<label>도서소개</label>
				<textarea name="bookInfo"></textarea>
			</div>
			<div>
				<button type="submit" class="btn btn-info">등록</button>
				<button type="button" class="btn btn-success" th:onclick="|location.href='@{/bookList}'|">조회</button>
			</div>
		</div>
	</form>
<script>
	$('[name="insertForm"]').on('submit',function(event){
		 event.preventDefault();
		 let bname = $('input[name="bookName"]');
		 if(bname.val()==''){
			 bname.focus();
			 alert('도서명이 입력되지 않았습니다.');
			 return;
		 }
		 alert('도서등록이 완료 되었습니다.');
	insertForm.submit();
	})
</script>
</body>
</html>